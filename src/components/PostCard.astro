---
const { post } = Astro.props;

function getExcerpt(html, length = 150) {
  const text = html.replace(/<[^>]+>/g, '');
  return text.length > length ? text.slice(0, length) + "..." : text;
}
---

<article 
  class="bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 overflow-hidden"
>
  {post.featuredImage && (
    <img
      src={post.featuredImage}
      alt={post.title}
      class="w-full h-48 object-cover"
    />
  )}
  <div class="p-6">
    <h3 class="text-xl font-bold text-gray-800 mb-2">
      {post.title}
    </h3>
    <ul class="flex items-center text-sm text-gray-500 mb-4 space-x-3">
      <li>{new Date(post.date).toLocaleDateString()}</li>
      <li class="list-disc ml-4">{post.author}</li>
    </ul>
    <p class="text-gray-700 text-base mb-4">
      {getExcerpt(post.content, 150)}
    </p>
    <a
      href={`/noticias/${post.slug}`}
      class="inline-block text-blue-600 hover:text-blue-800 font-medium transition-colors duration-200"
    >
      Ver más información &rarr;
    </a>
  </div>
</article>
